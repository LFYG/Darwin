Mac OS X Cross-compiler for iOS

CC=$(xcrun -f clang)
CXX=$(xcrun -f clang++)
IOSDEVROOT=$(xcrun --sdk iphoneos --show-sdk-platform-path)/Developer
IOSSDKROOT=$(xcrun --sdk iphoneos --show-sdk-path | sed s/7.0.sdk/6.1.sdk/g)
export DEVROOT=$IOSDEVROOT
export SDKROOT=$IOSSDKROOT
export CC=$(xcrun -f clang)
export LD=$DEVROOT/usr/bin/ld
export AR=$DEVROOT/usr/bin/ar
export AS=$DEVROOT/usr/bin/as
export NM=$DEVROOT/usr/bin/nm
export RANLIB=$DEVROOT/usr/bin/ranlib
export CFLAGS="-g -O2 -arch armv7 -isysroot $SDKROOT -miphoneos-version-min=6.1 -I$SDKROOT/usr/include/"
export LDFLAGS="-arch armv7 -L$SDKROOT/usr/lib/"
export CPPFLAGS=$CFLAGS
export CXXFLAGS=$CFLAGS

cd src
./configure --host=i386-apple-darwin --target=armv7-apple-darwin --build=armv7-apple-darwin

make
mkdir pkg
make install DESTDIR=pkg

